(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);a(12);var n=a(0),i=a.n(n),c=a(9),l=a.n(c),s=(a(17),a(10)),o=a(7),r=a(2),m=a(3),v=a(1),u=a(5),p=a(6),d=a(4),h=a.n(d),g=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getClassValue=function(e){return h()({"col btn btn-info":n.state.willWatch,"col btn btn-secondary":!n.state.willWatch})},n.state={willWatch:!1},n.handleMovieForWatchList=n.handleMovieForWatchList.bind(Object(v.a)(n)),n}return Object(m.a)(a,[{key:"handleMovieForWatchList",value:function(){this.state.willWatch?this.props.RemoveMovieFromWillWatch(this.props.movie):this.props.AddMovieToWillWatch(this.props.movie),this.setState({willWatch:!this.state.willWatch})}},{key:"render",value:function(){var e=this.props.movie;return i.a.createElement("div",{className:"card ",style:{width:"18rem"}},i.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(e.backdrop_path||e.poster_path),alt:e.title}),i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},e.title)),i.a.createElement("div",{className:"card-footer bg-0"},i.a.createElement("div",{className:"row"},i.a.createElement("p",{className:"col card-text"},e.vote_average),i.a.createElement("button",{type:"button",className:this.getClassValue(),onClick:this.handleMovieForWatchList},this.state.willWatch?"Will Not Watch":"Will Watch"))))}}]),a}(i.a.Component),f=function(e){var t=e.movieslist,a=e.AddMovieToWillWatch,n=void 0===a?function(e){return e}:a,c=e.RemoveMovieFromWillWatch,l=void 0===c?function(e){return e}:c;return i.a.createElement("div",{className:"row"},t.map((function(e,t){return i.a.createElement("div",{className:" col-3",key:e.id},i.a.createElement(g,{movie:e,AddMovieToWillWatch:n,RemoveMovieFromWillWatch:l}))})))},b=function(e){var t=e.wishlist;return i.a.createElement("div",{className:""},i.a.createElement("h5",null,"Will Watch ",t.length),i.a.createElement("ul",{className:"list-group"},t.length>0?t.map((function(e,t){return i.a.createElement("li",{key:e.id,className:"list-group-item row justify-content-center"},i.a.createElement("div",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:""},e.title),i.a.createElement("div",{className:""},e.vote_average)))})):null))},W=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.sort_by!==this.props.sort_by}},{key:"render",value:function(){var e=this,t=this.props,a=t.sort_by,n=t.updateSortBy,c=a.split("."),l=function(e){n(e.target.value)},s=function(e){return c[0]==="".concat(e)&&"asc"===c[1]?"".concat(e,".asc"):"".concat(e,".desc")},o=function(t){var a=e.props.sort_by.replace(/^(\w+)\.(\w+)$/,"$1");return h()({"btn btn-light mr-2 active":a===t,"btn btn-light mr-2":a!==t})},r=function(e){var t=new RegExp(e,"i"),a=e.split("_").join(" ");return t.test(c[0])?"desc"===c[1]?"".concat(a," desc"):"".concat(a," asc"):"".concat(a," desc")};return i.a.createElement("ul",{className:"tabs nav nav-pills"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("button",{className:o("popularity"),onClick:l,value:s("popularity")},r("Popularity"))),i.a.createElement("li",{className:"nav-item"},i.a.createElement("button",{className:o("revenue"),onClick:l,value:s("revenue")},r("Revenue"))),i.a.createElement("li",{className:"nav-item"},i.a.createElement("button",{className:o("vote_average"),onClick:l,value:s("vote_average")},r("Vote_average"))))}}]),a}(i.a.Component),E=function(e){for(var t=e.pages,a=t.page,n=t.min,c=t.max,l=t.range,s=t.firstpage,o=[],r=s;r<s+l;r++)o.push(r);var m=function(t){return function(){t>c?t=c:t<n&&(t=n),e.updatePage(t)}},v=function(e){return h()({"page-item active":a===e,"page-item":a!==e&&"next"!==e&&"prev"!==e,"page-item disabled":"prev"===e&&1===a,"page-item m-0":"prev"===e&&a>1,"page-item disabled m-0":"next"===e&&a===c,"page-item mb-0":"next"===e&&a<c})};return i.a.createElement("nav",{"aria-label":"Page navigation example"},n!==c?i.a.createElement("ul",{className:"pagination"},i.a.createElement("li",{className:v("prev")},i.a.createElement("div",{className:"page-link",onClick:m(a-1)},"Previous")),i.a.createElement("li",{className:v(1)},i.a.createElement("div",{className:"page-link",onClick:m(1)},"1")),s>2?i.a.createElement("li",{className:"page-item"},i.a.createElement("div",{className:"page-link"},"...")):null,o.filter((function(e){return e<c})).map((function(e,t){return i.a.createElement("li",{className:v(e),key:e},i.a.createElement("div",{className:"page-link",onClick:m(e)},e))})),s+l<c?i.a.createElement("li",{className:"page-item"},i.a.createElement("div",{className:"page-link"},"...")):null,i.a.createElement("li",{className:v(c)},i.a.createElement("div",{className:"page-link",onClick:m(c)},c)),i.a.createElement("li",{className:v("next")},i.a.createElement("div",{className:"page-link",onClick:m(a+1)},"Next"))):null)},y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getMovies=function(){fetch("".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("3f4ca4f3a9750da53450646ced312397","&sort_by=").concat(n.state.sort_by,"&page=").concat(n.state.pages.page)).then((function(e){return e.json()})).then((function(e){return n.setState({pages:Object(o.a)({},n.state.pages,{max:e.total_pages}),movies:e.results})})).catch((function(e){return console.error("Error getting API data",e.stack)}))},n.updateSortBy=function(e){var t=n.state.sort_by.split("."),a=e.split("."),i=e;t[0]===a[0]&&(i="desc"===a[1]?"".concat(a[0],".asc"):"".concat(a[0],".desc")),n.setState({sort_by:i})},n.updatePage=function(e){var t,a=n.state.pages,i=a.min,c=a.max,l=a.range,s=a.firstpage;e>=i&&e<=c&&i!==c&&(t=e===i?i+1:e===c?c-l>i+1?c-l:0:e>s?s+l<=e?s+9:0:e<s?s-9:0),t?n.setState({pages:Object(o.a)({},n.state.pages,{firstpage:t,page:e})}):n.setState({pages:Object(o.a)({},n.state.pages,{page:e})})},n.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc",pages:{page:1,firstpage:2,min:1,max:1,range:9}},n.AddMovieToWillWatch=n.AddMovieToWillWatch.bind(Object(v.a)(n)),n.removeMovie=n.removeMovie.bind(Object(v.a)(n)),n.RemoveMovieFromWillWatch=n.RemoveMovieFromWillWatch.bind(Object(v.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){(t.sort_by!==this.state.sort_by||t.pages.page!==this.state.pages.page)&&this.getMovies()}},{key:"AddMovieToWillWatch",value:function(e){this.setState((function(t,a){return{moviesWillWatch:[].concat(Object(s.a)(t.moviesWillWatch),[e])}}))}},{key:"RemoveMovieFromWillWatch",value:function(e){this.setState((function(t,a){return{moviesWillWatch:t.moviesWillWatch.filter((function(t){return t.id!==e.id}))}}))}},{key:"removeMovie",value:function(e){this.setState((function(t,a){return{movies:t.movies.filter((function(t){return t.id!==e}))}}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"d-flex justify-content-center flex-row mb-3"},i.a.createElement("div",{className:"p-2 w-75"},i.a.createElement("div",{className:"mb-4"},i.a.createElement(E,{pages:this.state.pages,updatePage:this.updatePage})),i.a.createElement("div",{className:"mb-4"},i.a.createElement(W,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy})),i.a.createElement(f,{movieslist:this.state.movies,AddMovieToWillWatch:this.AddMovieToWillWatch,RemoveMovieFromWillWatch:this.RemoveMovieFromWillWatch})),i.a.createElement("div",{className:"p-2"},i.a.createElement(b,{wishlist:this.state.moviesWillWatch})))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.f3e64cd7.chunk.js.map